(this.webpackJsonpvideo_finder_app=this.webpackJsonpvideo_finder_app||[]).push([[0],{13:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(6),i=n.n(c),s=(n(13),n(5)),u=n.n(s),o=n(2),d=n(7),l=n(3),j=n(8),b=Object(j.a)("563492ad6f91700001000001393f194ac883457a933d665febde5b1c"),h=function(e){var t=e.query,n=e.perPage;return b.videos.search({query:t,per_page:n,orientation:"landscape"}).then((function(e){return e}))},O=(n(18),n(0)),f=function(e){var t,n,r=e.video,a=e.onEnded,c=e.onTimeUpdate,i=e.vidEl,s=e.isLoading,u=e.hasResults,o=r&&0!==Object.keys(r).length;return Object(O.jsxs)("div",{className:"player",children:[o&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("video",{ref:i,onEnded:a,onTimeUpdate:c,controls:!0,muted:!0,autoPlay:!0,poster:r.video_pictures[0].picture,height:"500px",children:[r.video_files.map((function(e){return Object(O.jsx)("source",{src:e.link,type:e.file_type},e.id)})),Object(O.jsxs)("p",{children:["Your browser doesn't support HTML5 video. Here is a ",Object(O.jsx)("a",{href:r.url,children:"link to the video"})," instead."]})]}),Object(O.jsx)("div",{className:"overlay",children:Object(O.jsx)("a",{href:null===(t=r.user)||void 0===t?void 0:t.url,target:"_blank",rel:"noreferrer",children:null===(n=r.user)||void 0===n?void 0:n.name})})]}),s&&Object(O.jsxs)("div",{className:"loader",children:[Object(O.jsx)("div",{className:"loader_text",children:"loading ...."}),Object(O.jsx)("div",{className:"loader_element"})]}),!u&&Object(O.jsx)("div",{className:"loader",children:"Sorry, there are no results for this search term. Try another search"})]})},p=(n(20),function(e){var t=e.handleSubmit,n=e.query,r=e.numberOfVideos,a=e.time,c=e.handleSearchChange,i=e.handleNumChange,s=e.handleTimeChange,u=e.isLoading;return Object(O.jsxs)("form",{className:"search",onSubmit:t,children:[Object(O.jsxs)("fieldset",{disabled:u,children:[Object(O.jsx)("input",{type:"search",value:n,placeholder:"Search videos ex: tiger, beach...",onChange:c}),Object(O.jsx)("input",{type:"submit",value:"Submit"})]}),Object(O.jsxs)("fieldset",{disabled:u,children:[Object(O.jsx)("label",{children:"Number of videos to play"}),Object(O.jsxs)("select",{onChange:i,value:r,children:[Object(O.jsx)("option",{value:0,disabled:!0,children:"0"},0),Array.from(Array(10).keys()).map((function(e){var t=e+1;return Object(O.jsx)("option",{value:t,children:t},t)}))]})]}),Object(O.jsxs)("fieldset",{disabled:u,children:[Object(O.jsx)("label",{children:"Each video plays for up to"}),Object(O.jsxs)("select",{onChange:s,value:a,children:[Object(O.jsx)("option",{value:10,children:"10"}),Object(O.jsx)("option",{value:20,children:"20"}),Object(O.jsx)("option",{value:30,children:"30"})]})]})]})}),v=(n(21),function(){var e=Object(r.useRef)(null),t=Object(r.useState)([]),n=Object(l.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(!0),s=Object(l.a)(i,2),j=s[0],b=s[1],v=Object(r.useState)(null),m=Object(l.a)(v,2),x=m[0],g=m[1],y=Object(r.useState)(0),S=Object(l.a)(y,2),q=S[0],_=S[1],N=Object(r.useState)(!1),V=Object(l.a)(N,2),k=V[0],C=V[1],E=Object(r.useState)({query:"",numberOfVideos:10,time:10}),T=Object(l.a)(E,2),w=T[0],L=T[1];Object(r.useEffect)((function(){g(a[q])}),[q,a]),Object(r.useEffect)((function(){x&&e.current.load()}),[x]);var P=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r,a,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,r=t.perPage,C(!0),e.prev=2,e.next=5,h({query:n,perPage:r});case 5:a=e.sent,i=a.videos,s=a.total_results,c(i),s<w.numberOfVideos&&L(Object(o.a)(Object(o.a)({},w),{},{numberOfVideos:s})),b(0!==s),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),window.alert(e.t0),console.error(e.t0);case 17:return e.prev=17,C(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,13,17,20]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){return q===a.length-1?_(0):_((function(e){return++e}))};return Object(O.jsxs)("main",{children:[Object(O.jsx)(p,{handleSubmit:function(e){e.preventDefault();var t=w.query,n=w.numberOfVideos;t&&P({query:t,perPage:n})},query:w.query,numberOfVideos:w.numberOfVideos,time:w.time,handleSearchChange:function(e){0===w.numberOfVideos?L({query:e.target.value,numberOfVideos:10}):L(Object(o.a)(Object(o.a)({},w),{},{query:e.target.value}))},handleNumChange:function(e){return L(Object(o.a)(Object(o.a)({},w),{},{numberOfVideos:e.target.value}))},handleTimeChange:function(e){return L(Object(o.a)(Object(o.a)({},w),{},{time:e.target.value}))},isLoading:k}),Object(O.jsx)(f,{video:x,onEnded:function(){return A()},onTimeUpdate:function(){e.current.currentTime>w.time&&A()},vidEl:e,isLoading:k,hasResults:j})]})});n(22);var m=function(){return Object(O.jsxs)("div",{className:"App",children:["Video Finder App",Object(O.jsx)(v,{})]})};i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(m,{})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.944bea3e.chunk.js.map