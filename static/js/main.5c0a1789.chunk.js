(this.webpackJsonpvideo_finder_app=this.webpackJsonpvideo_finder_app||[]).push([[0],{14:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(6),s=n.n(c),i=(n(14),n(5)),o=n.n(i),u=n(2),l=n(7),d=n(3),j=n(8),b=Object(j.a)("563492ad6f91700001000001393f194ac883457a933d665febde5b1c"),h=function(e){var t=e.query,n=e.perPage;return b.videos.search({query:t,per_page:n,orientation:"landscape"}).then((function(e){return e}))},O=n(9),f=(n(19),n(0)),v=function(e){var t=e.className;return Object(f.jsxs)("div",{className:t,children:[Object(f.jsx)("div",{className:"loader_text",children:"loading ...."}),Object(f.jsx)("div",{className:"loader_element"})]})},p=function(e){var t=e.className,n=e.message;return Object(f.jsx)("div",{className:t,children:n||"Sorry, there are no results for this search term. Try another search"})},m=(n(21),function(e){var t,n,r=e.video,a=e.onEnded,c=e.onTimeUpdate,s=e.vidEl,i=e.isLoading,o=e.error,u=r&&0!==Object.keys(r).length;return Object(f.jsxs)("div",{className:Object(O.a)("player",!u&&"empty"),children:[u&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("video",{ref:s,onEnded:a,onTimeUpdate:c,controls:!0,muted:!0,autoPlay:!0,poster:r.video_pictures[0].picture,height:"500px",children:[r.video_files.map((function(e){return Object(f.jsx)("source",{src:e.link,type:e.file_type},e.id)})),Object(f.jsxs)("p",{children:["Your browser doesn't support HTML5 video. Here is a ",Object(f.jsx)("a",{href:r.url,children:"link to the video"})," instead."]})]}),Object(f.jsx)("div",{className:"caption",children:Object(f.jsx)("a",{href:null===(t=r.user)||void 0===t?void 0:t.url,target:"_blank",rel:"noreferrer",children:null===(n=r.user)||void 0===n?void 0:n.name})})]}),i&&Object(f.jsx)(v,{className:"overlay"}),o.hasError&&Object(f.jsx)(p,{className:"overlay",message:o.message})]})}),x=(n(22),function(e){var t=e.handleSubmit,n=e.query,r=e.count,a=e.time,c=e.handleSearchChange,s=e.handleCountChange,i=e.handleTimeChange,o=e.isLoading;return Object(f.jsxs)("form",{className:"form",onSubmit:t,children:[Object(f.jsxs)("fieldset",{disabled:o,children:[Object(f.jsx)("input",{className:"search",type:"search",value:n,placeholder:"Search videos",onChange:c}),Object(f.jsx)("input",{className:"submit",type:"submit",value:"Submit",title:n?"Click to search for ".concat(r," ").concat(n," videos playing each for ").concat(a,"s"):void 0})]}),Object(f.jsxs)("fieldset",{disabled:o,children:[Object(f.jsx)("label",{children:"Number of videos to play"}),Object(f.jsxs)("select",{onChange:s,value:r,children:[Object(f.jsx)("option",{value:0,disabled:!0,children:"0"},0),Array.from(Array(10).keys()).map((function(e){var t=e+1;return Object(f.jsx)("option",{value:t,children:t},t)}))]})]}),Object(f.jsxs)("fieldset",{disabled:o,children:[Object(f.jsx)("label",{children:"Each video plays for up to"}),Object(f.jsxs)("select",{onChange:i,value:a,children:[Object(f.jsx)("option",{value:10,children:"10s"}),Object(f.jsx)("option",{value:20,children:"20s"}),Object(f.jsx)("option",{value:30,children:"30s"})]})]})]})}),g=(n(23),10),y=10,S=0,E=function(){var e=g,t=y,n=S,a=Object(r.useRef)(null),c=Object(r.useState)([]),s=Object(d.a)(c,2),i=s[0],j=s[1],b=Object(r.useState)(null),O=Object(d.a)(b,2),v=O[0],p=O[1],E=Object(r.useState)(0),N=Object(d.a)(E,2),q=N[0],C=N[1],_=Object(r.useState)(!1),k=Object(d.a)(_,2),T=k[0],w=k[1],L=Object(r.useState)({query:"",count:e,time:t}),P=Object(d.a)(L,2),A=P[0],F=P[1],U=Object(r.useState)({hasError:!1,message:""}),H=Object(d.a)(U,2),J=H[0],M=H[1];Object(r.useEffect)((function(){p(i[q])}),[q,i]),Object(r.useEffect)((function(){v&&a.current.load()}),[v]);var B=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,a,c,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.query,a=t.perPage,w(!0),e.prev=2,e.next=5,h({query:r,perPage:a});case 5:c=e.sent,s=c.videos,i=c.total_results,j(s),i<A.count&&F(Object(u.a)(Object(u.a)({},A),{},{count:i})),M({hasError:i===n,message:""}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),M({hasError:!0,message:e.t0.message}),console.error(e.t0);case 17:return e.prev=17,w(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,13,17,20]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){return q===i.length-1?C(0):C((function(e){return++e}))};return Object(f.jsxs)("main",{children:[Object(f.jsx)(x,{handleSubmit:function(e){e.preventDefault();var t=A.query,n=A.count;t&&(M({hasError:!1,message:""}),j([]),B({query:t,perPage:n}))},query:A.query,count:A.count,time:A.time,handleSearchChange:function(t){A.count===n?F(Object(u.a)(Object(u.a)({},A),{},{query:t.target.value,count:e})):F(Object(u.a)(Object(u.a)({},A),{},{query:t.target.value}))},handleCountChange:function(e){return F(Object(u.a)(Object(u.a)({},A),{},{count:e.target.value}))},handleTimeChange:function(e){return F(Object(u.a)(Object(u.a)({},A),{},{time:e.target.value}))},isLoading:T}),Object(f.jsx)(m,{video:v,onEnded:function(){return D()},onTimeUpdate:function(){a.current.currentTime>A.time&&D()},vidEl:a,isLoading:T,error:J})]})},N=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Video Finder App"}),Object(f.jsx)(E,{})]})};s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(N,{})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.5c0a1789.chunk.js.map